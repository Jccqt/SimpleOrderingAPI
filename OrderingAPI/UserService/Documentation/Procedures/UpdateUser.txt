DELIMITER $$

DROP PROCEDURE IF EXISTS UpdateUser$$

CREATE PROCEDURE UpdateUser(
	IN p_user_id INT,
	IN p_full_name VARCHAR(100),
	IN p_email VARCHAR(100),
	IN p_password VARCHAR(255),
	IN p_salt VARCHAR(255),
	IN p_role VARCHAR(25),
	IN p_status INT)
BEGIN
	UPDATE users
	SET
		full_name = COALESCE(p_full_name, full_name),
		email = COALESCE(p_email, email),
		PASSWORD = COALESCE(p_password, PASSWORD),
		salt = COALESCE(p_salt, salt),
		ROLE = COALESCE(p_role, ROLE),
		STATUS = COALESCE(p_status, STATUS)
	WHERE user_id = p_user_id;
END$$

DELIMITER ;